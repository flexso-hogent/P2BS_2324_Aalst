<mvc:View
    controllerName="flexso.controller.AllSessions"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    displayBlock="true"
>
    <Page
        id="_IDGenPage1"
        title="Flexso"
        enableScrolling="true"
        class="backgroundEventCreate"
    >
        <headerContent>
            <core:Fragment
                fragmentName="flexso.fragment.Toolbar"
                type="XML"
            />
        </headerContent>
        <HBox
            id="_IDGenHBox1"
            class="barAll"
            width="100%"
        >
            <SearchField
                id="_IDGenSearchField"
                placeholder="{i18n>Search}"
                liveChange="onSearch"
                class="{= ${device>/isPhone} ? 'fullWidthSearchField' : 'wideSearchField'}"
            />
            <Button
                id="_IDGenButton"
                icon="sap-icon://sort"
                press="onSortPress"
            />

            <Button
                id="_IDGenButton1"
                icon="sap-icon://sort"
                press="onSortPress"
                visible="{device>/isPhone}"
            />
        </HBox>

        <!-- Table for displaying all registered sessions -->
        <Table
            id="_IDGenTable1"
            items="{
                path: 'allSessionsModel>/',
                filters: [
                    {
                        path: 'endDate',
                        operator: 'GT',
                        value1: '{path: \'today\', formatter: \'flexso.controller.AllSessions.formatDate\'}'
                    }
                ]
            }"
            class="all-sessions-table"
            mode="{device>/isPhone ? 'SingleSelectMaster' : 'MultiSelect'}"
            inset="{device>/isPhone}"
            growing="true"
            growingThreshold="5"
        >
            <columns>
                <Column
                    id="_IDGenColumn1"
                    minScreenWidth="Tablet"
                    demandPopin="true"
                    popinDisplay="Inline"
                >
                    <Text
                        id="_IDGenText1"
                        text="{i18n>titleSession}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn2"
                    demandPopin="true"
                    popinDisplay="Inline"
                    minScreenWidth="Desktop"
                >
                    <Text
                        id="_IDGenText2"
                        text="{i18n>StartDate1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn3"
                    minScreenWidth="Tablet"
                    demandPopin="true"
                    popinDisplay="Inline"
                >
                    <Text
                        id="_IDGenText3"
                        text="{i18n>EndDate1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn"
                    minScreenWidth="Desktop"
                    demandPopin="true"
                >
                    <Text
                        id="_IDGenText"
                        text="{i18n>StartTime1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn11"
                    minScreenWidth="Desktop"
                    demandPopin="true"
                >
                    <Text
                        id="_IDGenText121"
                        text="{i18n>EndTime1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn4"
                    minScreenWidth="Desktop"
                >
                    <Text
                        id="_IDGenText4"
                        text="{i18n>Room1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn5"
                    minScreenWidth="Desktop"
                >
                    <Text
                        id="_IDGenText5"
                        text="{i18n>Speaker1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn6"
                    minScreenWidth="Desktop"
                >
                    <Text
                        id="_IDGenText6"
                        text="{i18n>TotalSeats1}"
                    />
                </Column>
                <Column
                    id="_IDGenColumn7"
                    minScreenWidth="Desktop"
                >
                    <Text
                        id="_IDGenText7"
                        text="{i18n>Description1}"
                    />
                </Column>
                <Column id="_IDGenColumnFeedback">
                    <Text
                        id="_IDGenText16"
                        text="{i18n>Feedback}"
                    />
                </Column>
            </columns>
            <items>
                <ColumnListItem id="_IDGenColumnListItem1">
                    <cells>
                        <Text
                            id="_IDGenText8"
                            text="{allSessionsModel>title}"
                        />
                        <Text
                            id="_IDGenText9"
                            text="{allSessionsModel>startDate}"
                        />
                        <Text
                            id="_IDGenText10"
                            text="{allSessionsModel>endDate}"
                        />
                        <Text
                            id="_IDGenText111"
                            text="{allSessionsModel>startTime}"
                        />
                        <Text
                            id="_IDGenText1111"
                            text="{allSessionsModel>endTime}"
                        />
                        <Text
                            id="_IDGenText11"
                            text="{allSessionsModel>room}"
                        />
                        <HBox id="_IDGenHBox111">
                            <VBox id="_IDGenVBox1">
                                <Text
                                    id="upcomingText19"
                                    text="{allSessionsModel>naam}"
                                />
                                <Image
                                    id="sessionImage"
                                    src="{path: 'allSessionsModel>speaker', formatter: '.extractImageURL'}"
                                    class="profileImage1"
                                />
                            </VBox>
                        </HBox>
                        <Text
                            id="_IDGenText13"
                            text="{allSessionsModel>totalSeats}"
                        />
                        <Text
                            id="_IDGenText14"
                            text="{allSessionsModel>description}"
                        />
                        <VBox id="_IDGenVBox2">
                            <Button
                                id="_IDGenButton11"
                                icon="sap-icon://add-favorite"
                                press="goToFeedbackDirect"
                                class="sapUiSmallMarginEnd outlookButton1"
                                width="{= ${device>/isPhone} ? '10%' : '50%'}"
                                visible="{= !${allSessionsModel>hasFeedback} }"
                            />
                            <Text
                                id="alreadyFeedbackText"
                                text="{i18n>feedbackGiven}"
                                visible="{= ${allSessionsModel>hasFeedback} }"
                                class="feedbackGivenText"
                            />
                        </VBox>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </Page>
    <!-- Popover Definition -->
    <core:Fragment
        fragmentName="flexso.fragment.Popover"
        type="XML"
    />
</mvc:View>
